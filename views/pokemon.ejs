<!--

-->

<!DOCTYPE html>
<html lang="nl-BE">
  <head>
    <title>Pokedex</title>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11" defer></script>
    <%- include('partials/head'); %>
  </head>
  <body>
    <%- include('partials/navbar.ejs'); %>
    <main class="p-lg-3">
      <section>

      </section>
      <section class="d-flex flex-wrap justify-content">
        <% for (let i = 0; i<pokemons.length; i++){%>

        <article 
        class="pokemonkaart <%= capturedPokemon.includes(pokemons[i].id) ? 'bg-success' : 'bg-danger'%>"
        onclick="
        Swal.fire({
            title: 'Wil je <%= pokemons[i].name %> <%= capturedPokemon.includes(pokemons[i].id) ? `vrijlaten` : `proberen vangen` %>?',
            showCancelButton: true,
              showDenyButton: true,   
            denyButtonText: `Bekijk Pok√©mon`,
            <% if(capturedPokemon.includes(pokemons[i].id)) { %>
              confirmButtonText: 'Vrijlaten',
              cancelButtonText: `Annuleren`
            <% } else { %>
              confirmButtonText: 'Battle',
              cancelButtonText: `Flee`
            <% } %>
          }).then((result) => {
            /* Read more about isConfirmed,  isDenied below */
            if (result.isConfirmed) {
              window.location.replace('/<%= capturedPokemon.includes(pokemons[i].id) ? `release` : `capture` %>/<%= pokemons[i].id %>');
            } else if (result.isDenied) {
              window.location.replace('/pokemon-detail/<%= pokemons[i].id %>');
            }
          })">
          <div class="row">
            <img src="<%= pokemons[i]._sprites.front_default %>" class="spriteimg"/>
          </div>
          <div class="row">
            <div class="col">
              <strong class="text-white"><%= pokemons[i].name.charAt(0).toUpperCase() + pokemons[i].name.slice(1) %></strong>
            </div>
            <div class="col">
              <img src="/images/pokeball.png" class="pokeballimg"\>
            </div>
          </div>
        </article>

        <%  }%>
          </section>
        </article>
        <div class="text-center">


          <% 
          for (let i = pageId-2; i <= pageId+2; i++) {
            if(i < 1) continue;
          %>
            <a href="/pokemon/<%= i-1 %>"><%= i %></a>
        <% } %>
        </div>
      </div>
     
      <!-- <div class="container">
        <div class="row align-items-start">
          <div class="col ">
            <div class="row">
              <div class="col">
                <img src="<%= pokemons[0]._sprites.front_default %>"/>
              </div>
              <div class="col">
                <%= pokemons[0].name %>
              </div>
            </div>
          </div>
          <div class="col">
            <%= pokemons[1].name %>
          </div>
          <div class="col">
            <%= pokemons[2].name %>
          </div>
          <div class="col">
            <%= pokemons[3].name %>
          </div>
        </div>
        <div class="row align-items-center">
          <div class="col">
            <%= pokemons[4].name %>
          </div>
          <div class="col">
            <%= pokemons[5].name %>
          </div>
          <div class="col">
            <%= pokemons[6].name %>
          </div>
          <div class="col">
            <%= pokemons[7].name %>
          </div>
        </div>
        <div class="row align-items-end">
          <div class="col">
            <%= pokemons[8].name %>
          </div>
          <div class="col">
            <%= pokemons[9].name %>
          </div>
          <div class="col">
            <%= pokemons[10].name %>
          </div>
          <div class="col">
            <%= pokemons[11].name %>
          </div>
        </div>
      </div> -->
        
    </main>
  </body>
</html>
